"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,n){e.mk={init:function(){return(arguments[0]?arguments[0]:{}).imgAuto&&t("img").each(function(){var e=t(this);e.attr("images-Auto")&&("cover"==e.attr("images-Auto")?e.imgAuto("cover"):e.imgAuto())}),this},rem:function(n){return n=n||640,t(e).width()>n?t("html").css("font-size",100):t("html").css("font-size",t(e).width()/n*100),this},letter:function(t){if("function"==typeof arguments[0]){t();var e="number"!=typeof arguments[1]?300:arguments[1],n=null,i=(new Date).getTime();return function(){var o=(new Date).getTime();o-i<e?(clearTimeout(n),n=setTimeout(function(){t()},e)):(clearTimeout(n),i=o,t())}}},css3:function(){var t=document.createElement("div"),e="Ms O Moz Webkit".split(" ");return function(n){var i=e.length;if("string"!=typeof n)return!1;if(n in t.style)return!0;for(n=n.replace(/^[a-z]/,function(t){return t.toUpperCase()});i--;)if(e[i]+n in t.style)return!0;return!1}}(),css3_3d:function(){var t=document.documentElement,e=mk.css3("perspective"),n=document.body;if(e&&"webkitPerspective"in t.style){var i=document.createElement("style");i.type="text/css",i.innerHTML="@media (transform-3d),(-webkit-transform-3d){#css3_3d_test{left:9px;position:absolute;height:3px;}}",n.appendChild(i);var o=document.createElement("div");o.id="css3_3d_test",n.appendChild(o),e=9===o.offsetLeft&&3===o.offsetHeight}return e},lazyLoad:function(n,i){return n.each(function(o){var a=t(this);return void 0===a.attr("data-src")&&void 0===i?(mk.lazyLoad(n.not(a)),!1):(a.show=function(){if(!(t(e).height()+t(e).scrollTop()>a.offset().top-(parseInt(a.css("top"))||0)))return!1;"function"==typeof i?i.call(a):i?a.animate({top:0,left:0},parseInt(a.attr("timer"))||2e3,function(){}):a.attr("src",a.attr("data-src")).removeAttr("data-src"),t(e).unbind("scroll",a.show)},!1!==a.show()?(setTimeout(function(){mk.lazyLoad(n.not(a))}),!1):void t(e).bind("scroll",a.show))}),this},tab:function(e,n){var i=t(e),o=t(n),a=function(t){i.removeClass("active").eq(t).addClass("active"),o.hide().eq(t).fadeIn("fast")};return a(0),i.click(function(){a(t(this).index())}),this},cx:function(e){var n=e.postData?e.postData:{};n.cx={},n.page=1;var i=!0,o=t(e.btn),a=t(e.box),r=t(e.ajax_btn),s=t('<div class="ball-pulse"><div></div><div></div><div></div><div></div></div>'),c=function(o){o?a.append(s):a.html(s),t.ajax({type:"POST",url:"/index.php/Api/getlist",timeout:1e4,data:n,success:function(n){i=!0;var c="";"success"===(n=JSON.parse(n)).status&&(n.data?(t.each(n.data,function(t,n){n.img=n.img.split("%*%")[0],c+=e.template(n)}),r.show()):(c='<p class="tac pd10 clear" style="width:100%;">no more</p>',r.hide()),o?(s.remove(),a.append(c)):a.html("").hide().append(c).fadeIn("fast"))},error:function(t,e,n){}})};c(),o.on("change",function(){var e=this.name,i=t(this).select2("data")[0].text;""==i||"不限"==i?delete n.cx[e]:n.cx[e]=i,n.page=1,c()}),r.click(function(){i&&(i=!1,n.page++,c(n.page))})},scrollTop:function(){var n,i,o,a,r,s,c;return i="number"!=typeof arguments[1]?150:arguments[1],"object"==_typeof(arguments[0])?"box"==arguments[2]?(o=a=arguments[0],r=n=t("a[href='#top']"),s=mk.letter(function(){a.scrollTop()>i?n.fadeIn():n.fadeOut("fast")})):(o=t("html,body"),a=t(e),r=arguments[0],n=r.find("a[href='#top']"),s=mk.letter(function(){c=(a.height()-r.height())/2,r.animate({top:c+a.scrollTop()}),a.scrollTop()+c>i&&r.is(":hidden")&&r.stop(!0,!0).fadeIn(),a.scrollTop()+c<i&&!r.is(":hidden")&&r.stop(!0).fadeOut("fast")})):(o=t("html,body"),a=t(e),r=n=t("a[href='#top']"),s=mk.letter(function(){a.scrollTop()>i?n.fadeIn():n.fadeOut("fast")})),n.click(function(){event.stopPropagation(),event.preventDefault(),o.animate({scrollTop:0}),r.fadeOut()}),a.scroll(s),this}},t.fn.roll=function(){function i(t){k||(k=!0,void 0!==t&&("+"==t?y++:y--),b.removeClass("in").eq(-y%(m/3)).addClass("in"),C?h.css({transform:D(),transition:"transform "+a.speed+"ms "+a.timing}):h.stop(!0,!0).animate({left:z()},a.speed,a.easing,function(){y>=0&&(y=-m/3,h.css("left",z())),y<=-(m-1)&&(y=-(2*m/3-1),h.css("left",z())),k=!1}))}var o=t(this),a=arguments[0]?arguments[0]:{};"number"!=typeof a.num&&(a.num=1),"number"!=typeof a.timer&&(a.timer=5e3),"number"!=typeof a.speed&&(a.speed=400),"string"!=typeof a.easing&&(a.easing="swing"),"string"!=typeof a.timing&&(a.timing="ease-out"),a.adaptive===n&&(a.adaptive=!0);var r,s,c,l,d,f,u,h=o.find("ul"),p=h.find("li"),m=p.length,v=p.outerWidth(!0),g=a.lbtn||o.find(".btn_l"),w=a.rbtn||o.find(".btn_r"),b=o.find(".banner_btn").find("a"),y=-m,x=null,k=!1,T=!1,_=0,I=0,S=0,A=0,C=mk.css3_3d(),D=function(){return"translate3d("+v*y+"px, 0px, 0px)"},z=function(){return v*y};if(h.html(h.html()+h.html()+h.html()),p=h.find("li"),m=p.length,o.css({position:"relative",overflow:"hidden",margin:"0 auto",width:a.width?a.width:a.banner?"100%":a.num*v}),p.css({width:a.banner?v:p.width(),height:"100%",float:"left",position:"relative",overflow:"hidden"}),h.css({width:m*v,height:"100%"}),a.height&&o.height(a.height),a.btn){r=t('<div class="banner_btn"></div>'),s=t("<span></span>");for(var $=0;$<m/3;$++)s.append('<a href="javascript:;"></a>');(b=s.find("a")).first().addClass("in"),r.append(s),o.append(r),"all"==a.btn&&(o.append('<div class="banner_l"></div><div class="banner_r"></div>'),g=o.find(".banner_l"),w=o.find(".banner_r"))}return c=b.add(g).add(w),a.banner?(f=t("div.center:first"),(u=function(){l=o.width(),d=f.width(),v=a.adaptive?l:l>d?l:d,p.width(v),h.width(m*v),C?h.css({transform:D(),transition:"transform 0ms"}):h.css({left:z()})})(),t(e).resize(function(){u()})):c.add(p),C?h.css({transform:D()}).on("webkitTransitionEnd",function(){k&&(y>=0&&(y=-m/3,h.css({transform:D(),transition:"transform 0ms"})),y<=-(m-1)&&(y=-(2*m/3-1),h.css({transform:D(),transition:"transform 0ms"})),k=!1)}):h.css({position:"absolute",top:0,left:z()}),a.center||h.find("img").imgAuto(!0,{imgAutoStart:function(t){a.banner&&!a.height&&o.height(l/t.width*t.height)}}),g.click(function(){i("+")}),w.click(function(){i("-")}),b.click(function(e){e.stopPropagation(),k=!1,y=-m/3-t(this).index(),i()}),o.on("touchstart",function(t){k=!1,h.css("transition","transform 0ms"),clearInterval(x),_=t.originalEvent.changedTouches[0].clientX,S=Date.now(),A=h.position().left,l=o.width()}),o.on("touchmove",function(t){t.preventDefault(),(I=t.originalEvent.changedTouches[0].clientX-_)>l/3?h.css("transform","translate3d("+(A+l/3+(I-l/3)/2)+"px, 0px, 0px)"):I<-l/3?h.css("transform","translate3d("+(A-l/3+(I+l/3)/2)+"px, 0px, 0px)"):h.css("transform","translate3d("+(A+I)+"px, 0px, 0px)")}),o.on("touchend",function(t){T=!1,y>=0&&I>0&&(y=-1,T=1),y<=-(m-1)&&I<0&&(y=1-(m-1),T=2),(I=t.originalEvent.changedTouches[0].clientX-_)>=l/3||Date.now()-S<300&&I>30||1==T?i("+"):I<-l/3||Date.now()-S<300&&I<-30||2==T?i("-"):i(),clearInterval(x),x=setInterval(function(){i("-")},a.timer)}),x=setInterval(function(){i("-")},a.timer),c.hover(function(){clearInterval(x)},function(){x=setInterval(function(){i("-")},a.timer)}),o.fadeTo("slow",1),this},t.fn.imgAuto=function(n,i){i=arguments[1]?arguments[1]:{};var o=function(t,e){"function"==typeof i[t]&&i[t](e)};return t(this).each(function(){function i(){r.width>0||r.height>0?(o("imgAutoStart",r),a.css({display:"block",margin:0}).parent().css("overflow","hidden"),c=r.width,l=r.height,d=s.width(),f=s.height(),u=f/l*c,h=d/c*l,c/l<d/f?p?a.css({width:"100%",height:"auto"}).css("margin-top",-(h-f)/2):a.css({width:"auto",height:"100%"}).css("margin-left",(d-u)/2):p?a.css({width:"auto",height:"100%"}).css("margin-left",-(u-d)/2):a.css({width:"100%",height:"auto"}).css("margin-top",(f-h)/2)):setTimeout(i),o("callback",r)}var a=t(this);a.css("opacity",0);var r=new Image;r.src=a.attr("src");var s,c,l,d,f,u,h,p=!("cover"!=a.attr("images-Auto")&&!n),m=a.attr("width"),v=a.attr("height");m&&v?((s=t('<div class="imgAuto_box"></div>')).css({width:m,height:v,"text-align":"left",overflow:"hidden"}),a.wrapAll(s)):s=a.parent(),i(),a.fadeTo(2e3,1);var g=mk.letter(i);t(e).resize(g)}),this}}(jQuery,window,document),$(function(){var t=mk.letter(function(){mk.rem(),$("#screening select").each(function(){$(this).select2({placeholder:"请选择",minimumResultsForSearch:1/0,allowClear:!0})})},50);$(window).resize(t)}),$.fn.imgscroll=function(t){return t=$.extend({speed:40,amount:0,width:1,dir:"left"},t),this.each(function(){function e(){(a+=t.width)>i&&(a=0,n.parent().css("left"==t.dir?{left:-a}:{top:-a}),a+=t.width),n.parent().animate("left"==t.dir?{left:-a}:{top:-a},t.amount)}var n=$("li",this);n.parent().parent().css({overflow:"hidden",position:"relative"}),n.parent().css({margin:"0",padding:"0",overflow:"hidden",position:"relative","list-style":"none"}),n.css({position:"relative",overflow:"hidden"}),"left"==t.dir&&n.css({float:"left"});for(var i=0,o=0;o<n.size();o++)i+="left"==t.dir?n.eq(o).outerWidth(!0):n.eq(o).outerHeight(!0);"left"==t.dir&&n.parent().css({width:3*i+"px"}),n.parent().empty().append(n.clone()).append(n.clone()).append(n.clone()),n=$("li",this);var a=0,r=setInterval(function(){e()},t.speed);n.parent().hover(function(){clearInterval(r)},function(){clearInterval(r),r=setInterval(function(){e()},t.speed)})})},$(document).ready(function(){$(".dowebok").imgscroll({speed:40,amount:0,width:1,dir:"left"})}),$(document).ready(function(){$(".menu").click(function(){$(".mask").slideToggle("slow"),$(".nav").slideToggle("slow")})}),function(t,e,n,i){e.yunu={letter:function(t){if("function"==typeof arguments[0]){t();var e="number"!=typeof arguments[1]?300:arguments[1],n=null,i=(new Date).getTime();return function(){var o=(new Date).getTime();o-i<e?(clearTimeout(n),n=setTimeout(function(){t()},e)):(clearTimeout(n),i=o,t())}}},throttle:function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i=arguments[2];if("function"==typeof n){switch(n(),n="function"==typeof _?_.throttle(n,300):this.letter(n,300),i){case"scroll":t(e).scroll(n);break;default:t(e).resize(n)}return this}},rem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750,i=n.getElementsByTagName("html")[0],o=function(){var e=n.documentElement.clientWidth;e=e>t?t:e,i.style.fontSize=e/t*100+"px"};return o(),e.onresize=o,this},nav:function(){var e=t("#menu"),n=t("#nav"),i=t("#nav>ul>li>a").filter(function(e){return t(this).css({"animation-delay":e/10+"s"}).next("ul").children().length});return e.click(function(){n.hasClass("active")?n.removeClass("active"):n.addClass("active")}),i.each(function(){t(this).prop("href","javascript:;").append('<i class="fa fa-angle-down"></i>')}).click(function(e){var n=t(this);i.next("ul").slideUp("fast"),n.hasClass("active")?n.removeClass("active"):n.addClass("active").next("ul").slideDown("fast")}),this},gotop:function(){var n=t("#gotop"),i=t("html,body"),o=t(e);return n.click(function(){event.stopPropagation(),event.preventDefault(),i.animate({scrollTop:0})}),yunu.throttle(function(){o.scrollTop()>50?n.fadeIn():n.fadeOut()},300,"scroll"),this},getDbJson:function(t){return JSON.parse(localStorage.getItem(t))},setDbJson:function(t,e){localStorage.setItem(t,JSON.stringify(e))},loadMore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(){t.ajax({url:e.url,type:e.type,data:e.data,dataType:"jsonp",beforeSend:function(t){e.beforeSend(t),e.btn.attr("disabled",!0)}}).done(function(t,n,i){e.done(t,n,i),(!t.data.length||!e.data.limit||t.data.length<e.data.limit)&&e.btn.replaceWith(e.load_more_none)}).fail(function(t,n,i){e.fail(t,n,i)}).always(function(t,n,i){e.always(t,n,i),e.key=!0,e.btn.attr("disabled",!1)})};(e=t.extend(!0,{key:!0,url:"",type:"POST",btn:t("#load_more_btn"),box:t("#list>ul"),data:{pages:1,limit:5},beforeSend:function(){},done:function(){},fail:function(){},always:function(){},load_icon:!0,load_icon_class:"",loading:t('<div class="la-ball-fall"><div></div><div></div><div></div><div></div></div>'),load_more_none:t('<p class="load_more_none tac c_red mt20">没有了</p>')},e)).load_icon&&(t(e.loading).addClass(e.load_icon_class),e.btn.after(e.loading)),e.btn.click(function(){e.key&&(e.key=!1,e.data.pages++,n())})}},yunu.rem(),t(function(){yunu.nav().gotop()}),t.fn.imgAuto=function(e,n){var i=this;n=n||{};var o=function(t,e){"function"==typeof n[t]&&n[t](e)};return t(this).each(function(){var n=t(i),a=new Image,r=!("cover"!=n.attr("images-Auto")&&!e),s=n.attr("width"),c=n.attr("height"),l=n.attr("box-Scale"),d=void 0;n.css({display:"block",opacity:0}),a.src=n.attr("src"),!n.parent().hasClass("imgAuto_box")&&(n.attr("no-Box")||s&&c)&&((d=t('<div class="imgAuto_box"></div>')).css({width:s,height:c}),n.wrapAll(d)),(d=n.parent()).css("overflow","hidden"),l&&d.each(function(){var e=t(i);yunu.throttle(function(){e.height(e.width()/l)})});yunu.throttle(function t(){if(a.width>0||a.height>0){o("imgAutoStart",a);var e=a.width,i=a.height,s=d.width(),c=d.height();e/i<s/c===r?n.css({width:"100%",height:"auto",margin:-(s/(e/i)-c)/2+"px 0 0 0"}):n.css({width:"auto",height:"100%",margin:"0 0 0 "+-(c*(e/i)-s)/2+"px"}),o("callback",a)}else setTimeout(t)}),n.fadeTo("fast",1)}),this}}(jQuery,window,document);
//# sourceMappingURL=yunu.js.map
